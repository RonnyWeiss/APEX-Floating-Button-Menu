var floatingButtonMenu=function(){"use strict";var o={version:"1.2.5",isDefinedAndNotNull:function(o){return void 0!==o&&null!==o},isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(n){o.isAPEX()&&apex.debug.info(n)},error:function(n){o.isAPEX()?apex.debug.error(n):console.error(n)}},jsonSaveExtend:function(o,n){var a={},e={};if("string"==typeof n)try{e=JSON.parse(n)}catch(o){console.error("Error while try to parse targetConfig. Please check your Config JSON. Standard Config will be used."),console.error(o),console.error(n)}else e=n;try{a=$.extend(!0,o,e)}catch(n){console.error("Error while try to merge 2 JSONs into standard JSON if any attribute is missing. Please check your Config JSON. Standard Config will be used."),console.error(n),a=o,console.error(a)}return a},link:function(o,n){if(!n)return window.location=o;window.open(o,"_blank")},isTouchDevice:function(){return"ontouchstart"in window}};return{initialize:function(n,a,e,t,r,s){function i(n){if(n&&n.row&&n.row.length>0){var a=$(d);o.debug.info(n);var e=n.row;o.debug.info(e);var t=n.row[0];o.debug.info(t);var s=$("<div></div>");s.addClass("afbm-float"),s.attr("id",l),s.css("bottom",t.BTN_POSITION_BOTTOM||f.btnPositionBottom),s.css("right",t.BTN_POSITION_RIGHT||f.btnPositionRight);var i=$("<ul></ul>");i.addClass("afbm-float-list"),$.each(e,function(n,a){var e=$("<li></li>");e.addClass("afbm-float-list-item");var t=$("<span></span>");t.addClass("afbm-float-list-item-label"),!1!==r?t.text(a.ITEM_TEXT):t.html(a.ITEM_TEXT),a.ITEM_TEXT_COLOR&&t.css("color",a.ITEM_TEXT_COLOR),a.ITEM_TEXT_BACKGROUND&&t.css("background",a.ITEM_TEXT_BACKGROUND),e.append(t);var s=!1;1!=a.ITEM_LINK_BLANK&&!0!==a.ITEM_LINK_BLANK||(s=!0),void 0!==typeof a.ITEM_LINK_BLANK&&null!==a.ITEM_LINK_BLANK||(s=f.linkTargetBlank),a.ITEM_LINK&&e.on("click",function(n){o.link(a.ITEM_LINK,s),n.stopPropagation()});var l=$("<span></span>");l.addClass("afbm-float-list-item-icon"),l.addClass("afbm-center-abs");var d="linear-gradient(60deg, hsl("+23*n%350+", 79%, 45%), hsl("+23*n%350+", 60%, 45%))";if(l.css("background-color",a.ITEM_COLOR||d),o.isDefinedAndNotNull(a.ITEM_ICON)){var c=$("<span></span>");"fa-"===a.ITEM_ICON.substr(0,"fa-".length)?(c.addClass("fa "+a.ITEM_ICON),o.isDefinedAndNotNull(a.ITEM_ICON_COLOR)&&l.css("color",a.ITEM_ICON_COLOR)):l.css("background-image","url("+a.ITEM_ICON+")"),l.append(c)}e.append(l),i.append(e)}),s.append(i);var c=$("<div></div>");if(c.addClass("afbm-float-btn"),c.css("background",t.BTN_COLOR||f.btnColor),f.rippleEffect){var u=$("<div></div>");u.addClass("afbm-float-btn-before"),c.prepend(u),u.css("border-color",t.BTN_RIPPLE_COLOR||f.btnRippleColor)}var p=$("<div></div>");p.addClass("afbm-float-btn-icon"),p.addClass("afbm-float-btn-icon-closed"),p.addClass("afbm-center-abs");var b=$("<span></span>");b.addClass("fa"),b.addClass(t.BTN_ICON||f.btnIcon),b.addClass("fa-lg"),b.css("color",t.BTN_ICON_COLOR||f.btnIconColor),p.append(b),c.append(p);var C=$("<div></div>");C.addClass("afbm-float-btn-icon"),C.addClass("afbm-float-btn-icon-opened");var v=$("<span></span>");v.addClass("fa"),v.addClass(t.BTN_ICON_HOVER||f.btnIconHover),v.addClass("fa-lg"),v.css("color",t.BTN_ICON_COLOR||f.btnIconColor),C.append(v),c.append(C),s.append(c),s.on("click",function(o){u&&u.toggle(),s.toggleClass("is-active"),o.stopPropagation()}),o.isTouchDevice()?$(document).on("touchstart click",function(o){s.is(o.target)||0!==s.has(o.target).length||(u&&u.show(),s.removeClass("is-active")),o.stopPropagation()}):(s.on("mouseover",function(o){u&&u.hide(),s.addClass("is-active"),o.stopPropagation()}),s.on("mouseout",function(o){u&&u.show(),s.removeClass("is-active"),o.stopPropagation()})),$("body").append(s),a.fadeOut(1e3,function(){$.each(a,function(o,n){n.remove()})}),s.fadeIn(1e3)}}var l=n||"afbm",d="#"+l,c={refresh:0,btnIcon:"fa-plus",btnIconHover:"fa-close",btnColor:"#F44336",btnRippleColor:"#F44336",btnIconColor:"white",btnPositionBottom:"45px",btnPositionRight:"45px",linkTargetBlank:!0,rippleEffect:!0};if(e)var f=o.jsonSaveExtend(c,e);else f=c;if(s)i(s);else{function u(n){apex.server.plugin(a,{pageItems:t},{success:function(o){n(o)},error:function(n){o.debug.error("Error while try to load data!"),o.debug.error(n.responseText)},dataType:"json"})}if(u(i),f.refresh>0){var p;p=setInterval(function(){0===$(d).length?clearInterval(p):(o.debug.info("Refresh event was fired"),u(i))},1e3*f.refresh)}}}}}();