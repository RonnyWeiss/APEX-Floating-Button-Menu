var floatingButtonMenu=function(){"use strict";var n={version:"1.2.4",isDefinedAndNotNull:function(n){return void 0!==n&&null!==n},isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(a){n.isAPEX()&&apex.debug.info(a)},error:function(a){n.isAPEX()?apex.debug.error(a):console.error(a)}},jsonSaveExtend:function(n,a){var o={},e={};if("string"==typeof a)try{e=JSON.parse(a)}catch(n){console.error("Error while try to parse targetConfig. Please check your Config JSON. Standard Config will be used."),console.error(n),console.error(a)}else e=a;try{o=$.extend(!0,n,e)}catch(a){console.error("Error while try to merge 2 JSONs into standard JSON if any attribute is missing. Please check your Config JSON. Standard Config will be used."),console.error(a),o=n,console.error(o)}return o},link:function(n,a){if(!a)return window.location=n;window.open(n,"_blank")}};return{initialize:function(a,o,e,r,s,t){function i(a){if(a&&a.row&&a.row.length>0){var o=$(d);n.debug.info(a);var e=a.row;n.debug.info(e);var r=a.row[0];n.debug.info(r);var t=$("<div></div>");t.addClass("afbm-float"),t.attr("id",l),t.css("bottom",r.BTN_POSITION_BOTTOM||c.btnPositionBottom),t.css("right",r.BTN_POSITION_RIGHT||c.btnPositionRight);var i=$("<ul></ul>");i.addClass("afbm-float-list"),$.each(e,function(a,o){var e=$("<li></li>");e.addClass("afbm-float-list-item");var r=$("<span></span>");r.addClass("afbm-float-list-item-label"),!1!==s?r.text(o.ITEM_TEXT):r.html(o.ITEM_TEXT),o.ITEM_TEXT_COLOR&&r.css("color",o.ITEM_TEXT_COLOR),o.ITEM_TEXT_BACKGROUND&&r.css("background",o.ITEM_TEXT_BACKGROUND),e.append(r),o.ITEM_LINK&&e.on("click",function(){n.link(o.ITEM_LINK,c.linkTargetBlank)});var t=$("<span></span>");t.addClass("afbm-float-list-item-icon"),t.addClass("afbm-center-abs");var l="linear-gradient(60deg, hsl("+23*a%350+", 79%, 45%), hsl("+23*a%350+", 60%, 45%))";if(t.css("background-color",o.ITEM_COLOR||l),n.isDefinedAndNotNull(o.ITEM_ICON)){var d=$("<span></span>");"fa-"===o.ITEM_ICON.substr(0,"fa-".length)?(d.addClass("fa "+o.ITEM_ICON),n.isDefinedAndNotNull(o.ITEM_ICON_COLOR)&&t.css("color",o.ITEM_ICON_COLOR)):t.css("background-image","url("+o.ITEM_ICON+")"),t.append(d)}e.append(t),i.append(e)}),t.append(i);var f=$("<div></div>");if(f.addClass("afbm-float-btn"),f.css("background",r.BTN_COLOR||c.btnColor),c.rippleEffect){var p=$("<div></div>");p.addClass("afbm-float-btn-before"),f.prepend(p),p.css("border-color",r.BTN_RIPPLE_COLOR||c.btnRippleColor)}var u=$("<div></div>");u.addClass("afbm-float-btn-icon"),u.addClass("afbm-float-btn-icon-closed"),u.addClass("afbm-center-abs");var b=$("<span></span>");b.addClass("fa"),b.addClass(r.BTN_ICON||c.btnIcon),b.addClass("fa-lg"),b.css("color",r.BTN_ICON_COLOR||c.btnIconColor),u.append(b),f.append(u);var C=$("<div></div>");C.addClass("afbm-float-btn-icon"),C.addClass("afbm-float-btn-icon-opened");var v=$("<span></span>");v.addClass("fa"),v.addClass(r.BTN_ICON_HOVER||c.btnIconHover),v.addClass("fa-lg"),v.css("color",r.BTN_ICON_COLOR||c.btnIconColor),C.append(v),f.append(C),t.append(f),t.on("mouseover click",function(n){n.stopPropagation(),t.addClass("is-active"),p&&p.hide()}),t.on("mouseout",function(){t.removeClass("is-active"),p&&p.show()}),$("body").append(t),o.fadeOut(1e3,function(){$.each(o,function(n,a){a.remove()})}),t.fadeIn(1e3)}}var l=a||"afbm",d="#"+l,f={refresh:0,btnIcon:"fa-plus",btnIconHover:"fa-close",btnColor:"#F44336",btnRippleColor:"#F44336",btnIconColor:"white",btnPositionBottom:"45px",btnPositionRight:"45px",linkTargetBlank:!0,rippleEffect:!0};if(e)var c=n.jsonSaveExtend(f,e);else c=f;if(t)i(t);else{function p(a){apex.server.plugin(o,{pageItems:r},{success:function(n){a(n)},error:function(a){n.debug.error("Error while try to load data!"),n.debug.error(a.responseText)},dataType:"json"})}if(p(i),c.refresh>0){var u;u=setInterval(function(){0===$(d).length?clearInterval(u):(n.debug.info("Refresh event was fired"),p(i))},1e3*c.refresh)}}}}}();