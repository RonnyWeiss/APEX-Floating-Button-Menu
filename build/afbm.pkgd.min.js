var floatingButtonMenu=function(){"use strict";var n={version:"1.2.5",isDefinedAndNotNull:function(n){return void 0!==n&&null!==n},isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(o){n.isAPEX()&&apex.debug.info(o)},error:function(o){n.isAPEX()?apex.debug.error(o):console.error(o)}},jsonSaveExtend:function(n,o){var a={},e={};if("string"==typeof o)try{e=JSON.parse(o)}catch(n){console.error("Error while try to parse targetConfig. Please check your Config JSON. Standard Config will be used."),console.error(n),console.error(o)}else e=o;try{a=$.extend(!0,n,e)}catch(o){console.error("Error while try to merge 2 JSONs into standard JSON if any attribute is missing. Please check your Config JSON. Standard Config will be used."),console.error(o),a=n,console.error(a)}return a},link:function(n,o){if(!o)return window.location=n;window.open(n,"_blank")},isTouchDevice:function(){return"ontouchstart"in window}};return{initialize:function(o,a,e,r,s,t){function i(o){if(o&&o.row&&o.row.length>0){var a=$(d);n.debug.info(o);var e=o.row;n.debug.info(e);var r=o.row[0];n.debug.info(r);var t=$("<div></div>");t.addClass("afbm-float"),t.attr("id",l),t.css("bottom",r.BTN_POSITION_BOTTOM||f.btnPositionBottom),t.css("right",r.BTN_POSITION_RIGHT||f.btnPositionRight);var i=$("<ul></ul>");i.addClass("afbm-float-list"),$.each(e,function(o,a){var e=$("<li></li>");e.addClass("afbm-float-list-item");var r=$("<span></span>");r.addClass("afbm-float-list-item-label"),!1!==s?r.text(a.ITEM_TEXT):r.html(a.ITEM_TEXT),a.ITEM_TEXT_COLOR&&r.css("color",a.ITEM_TEXT_COLOR),a.ITEM_TEXT_BACKGROUND&&r.css("background",a.ITEM_TEXT_BACKGROUND),e.append(r),a.ITEM_LINK&&e.on("click",function(){n.link(a.ITEM_LINK,f.linkTargetBlank)});var t=$("<span></span>");t.addClass("afbm-float-list-item-icon"),t.addClass("afbm-center-abs");var l="linear-gradient(60deg, hsl("+23*o%350+", 79%, 45%), hsl("+23*o%350+", 60%, 45%))";if(t.css("background-color",a.ITEM_COLOR||l),n.isDefinedAndNotNull(a.ITEM_ICON)){var d=$("<span></span>");"fa-"===a.ITEM_ICON.substr(0,"fa-".length)?(d.addClass("fa "+a.ITEM_ICON),n.isDefinedAndNotNull(a.ITEM_ICON_COLOR)&&t.css("color",a.ITEM_ICON_COLOR)):t.css("background-image","url("+a.ITEM_ICON+")"),t.append(d)}e.append(t),i.append(e)}),t.append(i);var c=$("<div></div>");if(c.addClass("afbm-float-btn"),c.css("background",r.BTN_COLOR||f.btnColor),f.rippleEffect){var u=$("<div></div>");u.addClass("afbm-float-btn-before"),c.prepend(u),u.css("border-color",r.BTN_RIPPLE_COLOR||f.btnRippleColor)}var b=$("<div></div>");b.addClass("afbm-float-btn-icon"),b.addClass("afbm-float-btn-icon-closed"),b.addClass("afbm-center-abs");var p=$("<span></span>");p.addClass("fa"),p.addClass(r.BTN_ICON||f.btnIcon),p.addClass("fa-lg"),p.css("color",r.BTN_ICON_COLOR||f.btnIconColor),b.append(p),c.append(b);var C=$("<div></div>");C.addClass("afbm-float-btn-icon"),C.addClass("afbm-float-btn-icon-opened");var v=$("<span></span>");v.addClass("fa"),v.addClass(r.BTN_ICON_HOVER||f.btnIconHover),v.addClass("fa-lg"),v.css("color",r.BTN_ICON_COLOR||f.btnIconColor),C.append(v),c.append(C),t.append(c),t.on("click",function(){u&&u.toggle(),t.toggleClass("is-active")}),n.isTouchDevice()||t.on("mouseover",function(){u&&u.hide(),t.addClass("is-active")}),t.on("mouseout",function(){u&&u.show(),t.removeClass("is-active")}),$("body").append(t),a.fadeOut(1e3,function(){$.each(a,function(n,o){o.remove()})}),t.fadeIn(1e3)}}var l=o||"afbm",d="#"+l,c={refresh:0,btnIcon:"fa-plus",btnIconHover:"fa-close",btnColor:"#F44336",btnRippleColor:"#F44336",btnIconColor:"white",btnPositionBottom:"45px",btnPositionRight:"45px",linkTargetBlank:!0,rippleEffect:!0};if(e)var f=n.jsonSaveExtend(c,e);else f=c;if(t)i(t);else{function u(o){apex.server.plugin(a,{pageItems:r},{success:function(n){o(n)},error:function(o){n.debug.error("Error while try to load data!"),n.debug.error(o.responseText)},dataType:"json"})}if(u(i),f.refresh>0){var b;b=setInterval(function(){0===$(d).length?clearInterval(b):(n.debug.info("Refresh event was fired"),u(i))},1e3*f.refresh)}}}}}();